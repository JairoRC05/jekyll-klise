---
layout:
permalink: /liga-indigo-ranking.html
title: RANK | LIGA INDIGO
---

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="{{ page.lang | default: site.lang | default: " en " }}">
{% include header.html %}

<body class="bg-home">
  

  <nav class="navbar top sticky-top indigo-yellow d-none d-lg-block">
    <div class="container d-flex justify-content-center align-items-center text-white">
      <a href="/">
        <span class=" text-white"><b>LA REPÚBLICA DEL UNITE</b>
        </span>
      </a>
    </div>
  </nav>
  
  <nav class="navbar top sticky-top bg-cham">
    <div class="container d-flex justify-content-between align-items-center text-white ">
      <a class="navbar-brand" href="/liga-indigo-dashboard">
        <img src="/assets/logos/LIGA INDIGO_LOGO.webp" alt="Bootstrap" width="50px" height="44px">
      </a>

      

      <div class="d-none d-md-block text-white">
        <span class="navbar-brand mb-0 h1"><a href="/liga-indigo-dashboard" class="text-white">INICIO</a></span>

        {% if page.grupo == "NORTE" %}
        <span class="navbar-brand mb-0 h1"><a href="/liga-indigo-sur" class="text-white">GALAXIA SUR</a></span>

        {% elsif page.grupo == "SUR" %}
        <span class="navbar-brand mb-0 h1"><a href="/liga-indigo-norte" class="text-white">GALAXIA NORTE</a></span>
        {% else %}
        {% endif %}

        <span class="navbar-brand mb-0 h1"><a href="/reglamento-liga-indigo" class="text-white">REGLAMENTO</a></span>

      </div>
 
    </div>
  </nav>

 

  <div class="container-fluid banner bg-cham d-none d-lg-block">
    <div class="container bannerPromo">
      <a href="/assets/logos/LIGA-INDIGO.png" role="button" download="{{ page.title | escape }}.png">
        <img src="/assets/logos/LIGA-INDIGO.png" class="drop img-fluid" alt="" ">
      </a>
      <div class="bannerText">
        <h1 class="indigo">LIGA INDIGO</h1>
        <span class="indigo">GALAXIA {{page.grupo}}</span>
      </div>
    </div>
  </div>

  {% include banner-1st.html %}
 


  <div class="container">
    <div class="teams-table">
      <h1 class="teams-title">CAMPEONATO</h1>
    </div>
  
    <div class="row" id="grupoNorte">

    </div>
 
    <div class="row" id="grupoSur">

    </div>



    <div class="details-league-card mt-4">
      <h5>Simbología</h5>
      <div class="row row-cols-1 row-cols-md-4">
        <div class="col">
          <div class="details-league">
            <span class="sup  circle-badge me-2 m-0">V</span> <span>Victoria (2-0)</span>
          </div>
        </div>
        <div class="col">
          <div class="details-league">
            <span class="win  circle-badge me-2 m-0">V</span> <span>Victoria (2-1)</span>
          </div>
        </div>
        <div class="col">
          <div class="details-league">
            <span class="one  circle-badge me-2 m-0">V</span> <span>Victoria (1-2)</span>
          </div>
        </div>
        <div class="col">
          <div class="details-league">
            <span class="circle-badge-icon me-2 m-0"><i class="ti ti-vip   text-primary me-2  m-0"></i></span> <span>Fase Final Liga Indigo</span>
          </div>
        </div>
        <div class="col">
          <div class="details-league">
            <span class="loss  circle-badge me-2 m-0">D</span> <span>Derrota (0-2)</span>
          </div>
        </div>
        <div class="col">
          <div class="details-league">
            <span class="des circle-badge me-2 m-0">Z</span> <span>Descanso</span>
          </div>
        </div>
        <div class="col">
          <div class="details-league">
            <span class="rea circle-badge me-2 m-0">R</span> <span>Reagenado</span>
          </div>
        </div>
       
        <div class="col">
          <div class="details-league">
            <span class="circle-badge-icon me-2 m-0"><i class="ti ti-shield-up text-warning me-2 m-0"></i></span> <span>Copa XForze SPC</span>
          </div>
        </div>
      </div>
    </div>

    <button id="descargarRankingBtn" class="btn btn-primary mt-3 admin-panel">Descargar Ranking Actual</button>


    
  </div>
   


  
   <div class="d-none d-lg-block my-5">
         <div class="container">
          {% include tabs-rondas.html %}
          {% include rondas-league.html %}
         </div>
   </div>
    
<div class="d-none d-lg-block">
    
 <div class="container-fluid p-0">
  <img src="/assets//backgrounds/MVPS.png" alt="MVPS BANNER" class="img-fluid">
 </div>

    <div class="container d-flex justify-content-center align-items-center">
      <a href="/liga-indigo-mvps" class="button-space">
        <span class="main-text">VER MÁS
          <span> 
           <span>→</span> 
          </span>
        </span></a>
    </div>
</div>
    



  {% include temporada.html %}


  <div class="container teams-table d-none d-lg-block">  
      <h1 class="teams-title text-center">PATROCINADORES</h1>
      {% include sponsors.html %}
  </div>


  {% include hora.html %}


  <div id="stars1"></div>
  <div id="stars2"></div>
  <div id="stars3"></div>


    {% include footer-transparent.html %}


     {% include navbar-league.html %}



  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

     {% include g-analytics.html %}



     <script>
       document.addEventListener('DOMContentLoaded', function() {
         const grupoNorteDiv = document.getElementById('grupoNorte');
         const grupoSurDiv = document.getElementById('grupoSur');
         const equiposDataNorte = [];
         const equiposDataSur = [];
         const teamFiles = [
           'assets/equipos/ad.json',
           'assets/equipos/amt.json',
           'assets/equipos/aogiri.json',
           'assets/equipos/cl.json',
           'assets/equipos/dbo.json',
           'assets/equipos/dty.json',
           'assets/equipos/enigma.json',
           'assets/equipos/gx.json',
           'assets/equipos/neo.json',
           'assets/equipos/ns.json',
           'assets/equipos/obs.json',
           'assets/equipos/ovg.json',
           'assets/equipos/pe.json',
           'assets/equipos/plaga.json',
           'assets/equipos/rk.json',
           'assets/equipos/rntx.json',
           'assets/equipos/sm.json',
           'assets/equipos/space.json',
           'assets/equipos/stmn.json',
           'assets/equipos/tad.json',
           'assets/equipos/tm.json',
           'assets/equipos/tut.json',
           'assets/equipos/tutw.json',
           'assets/equipos/zafiro.json'
         ];
     
         const fetchPromises = teamFiles.map(file => {
           return fetch('/' + file)
             .then(response => response.json())
             .then(data => {
               if (data && data.length > 0) {
                 const equipo = data[0];
                 let suma = 0;
                 if (equipo.partidos) {
                   for (const partido in equipo.partidos) {
                     suma += parseInt(equipo.partidos[partido]) || 0;
                   }
                 }
                 const equipoConSuma = { ...equipo, suma: suma };
                 if (equipo.grupo === 'NORTE') {
                   equiposDataNorte.push(equipoConSuma);
                 } else if (equipo.grupo === 'SUR') {
                   equiposDataSur.push(equipoConSuma);
                 }
               }
             })
             .catch(error => console.error(`Error fetching ${file}:`, error));
         });
     
         Promise.all(fetchPromises)
           .then(() => {
             equiposDataNorte.sort((a, b) => b.suma - a.suma);
             equiposDataSur.sort((a, b) => b.suma - a.suma);
     
             console.log("equiposDataNorte:", equiposDataNorte);
             console.log("equiposDataSur:", equiposDataSur);
     
             if (grupoNorteDiv) {
               mostrarEquipos(equiposDataNorte, grupoNorteDiv);
             } else if (grupoSurDiv) {
               mostrarEquipos(equiposDataSur, grupoSurDiv);
             } else {
               console.log("Ningún div de grupo (norte o sur) se encontró en esta página.");
             }
             
             compararRankings();
           })
           .catch(error => {
             console.error("Error al obtener los datos de los equipos:", error);
           });
     
         function mostrarEquipos(equipos, contenedor) {
           contenedor.innerHTML = '';
     
           const resultadoMapeo = {
             3: 'V',
             2: 'V',
             1: 'V',
             'R': 'R',
             'Z': 'Z',
             0: 'D'
           };
     
           const equiposPorPuntos = equipos.reduce((acc, equipo) => {
             acc[equipo.suma] = acc[equipo.suma] || [];
             acc[equipo.suma].push(equipo);
             return acc;
           }, {});
     
           const puntosOrdenados = Object.keys(equiposPorPuntos)
             .map(Number)
             .sort((a, b) => b - a);
     
           let rank = 0;
           let overallIndex = 0;
     
           puntosOrdenados.forEach(puntos => {
             const grupoDeEquipos = equiposPorPuntos[puntos];
             rank++;
     
             grupoDeEquipos.forEach(equipo => {
               const colDiv = document.createElement('div');
               colDiv.classList.add('col-12', 'col-md-6', 'col-lg-4');
               const cardRoundListDiv = document.createElement('div');
               cardRoundListDiv.classList.add('card-round-list');
               const cardRoundTeamDiv = document.createElement('div');
               cardRoundTeamDiv.classList.add('card-round-team');
               const link = document.createElement('a');
               link.href = equipo.link;
               const img = document.createElement('img');
               img.src = `/assets/logos/${equipo.tag}.webp`;
               img.alt = '';
               img.classList.add('img-fluid');
               link.appendChild(img);
               cardRoundTeamDiv.appendChild(link);
               const cardRoundTitleDiv = document.createElement('div');
               cardRoundTitleDiv.classList.add('card-round-title');
               const titleH2 = document.createElement('h2');
               titleH2.textContent = equipo.team;
     
               if (overallIndex < 4) {
                 const vipLogo = document.createElement('i');
                 vipLogo.classList.add('ti', 'ti-vip');
                 vipLogo.style.color = 'blue';
                 titleH2.appendChild(document.createTextNode(' '));
                 titleH2.appendChild(vipLogo);
               }
               if (overallIndex < 8) {
                 const shieldLogo = document.createElement('i');
                 shieldLogo.classList.add('ti', 'ti-shield-up');
                 shieldLogo.style.color = 'orange';
                 titleH2.appendChild(document.createTextNode(' '));
                 titleH2.appendChild(shieldLogo);
               }
     
               cardRoundTitleDiv.appendChild(titleH2);
               cardRoundTeamDiv.appendChild(cardRoundTitleDiv);
               const cardRoundRecordDiv = document.createElement('div');
               cardRoundRecordDiv.classList.add('card-round-record');
               const partidos = equipo.partidos;
               const partidosKeys = Object.keys(partidos).slice(0, 11);
               partidosKeys.forEach(key => {
                 const resultado = partidos.hasOwnProperty(key) ? partidos[key] : null;
                 const spanRecord = document.createElement('span');
                 spanRecord.classList.add('record');
                 if (resultado === 3) {
                   spanRecord.classList.add('sup');
                   spanRecord.textContent = resultadoMapeo[resultado];
                 } else if (resultado === 2) {
                   spanRecord.classList.add('win');
                   spanRecord.textContent = resultadoMapeo[resultado];
                 } else if (resultado === 1) {
                   spanRecord.classList.add('one');
                   spanRecord.textContent = resultadoMapeo[resultado];
                 } else if (resultado === 'R') {
                   spanRecord.classList.add('rea');
                   spanRecord.textContent = resultadoMapeo[resultado];
                 } else if (resultado === 'Z') {
                   spanRecord.classList.add('des');
                   spanRecord.textContent = resultadoMapeo[resultado];
                 } else if (resultado === 0) {
                   spanRecord.classList.add('loss');
                   spanRecord.textContent = resultadoMapeo[resultado];
                 } else {
                   spanRecord.textContent = resultado;
                 }
                 cardRoundRecordDiv.appendChild(spanRecord);
               });
               cardRoundTitleDiv.appendChild(cardRoundRecordDiv);
               cardRoundTeamDiv.appendChild(cardRoundTitleDiv);
               const cardRoundPtsDiv = document.createElement('div');
               cardRoundPtsDiv.classList.add('card-round-pts');
               const ptsH6 = document.createElement('h6');
               ptsH6.textContent = `${equipo.suma} pts`;
               cardRoundPtsDiv.appendChild(ptsH6);
               const cardRoundPlaceDiv = document.createElement('div');
               cardRoundPlaceDiv.classList.add('card-round-place');
               const placeSpan = document.createElement('span');
               placeSpan.textContent = rank < 10 ? `0${rank}` : rank;
               cardRoundPlaceDiv.appendChild(placeSpan);
               const cardBackDiv = document.createElement('div');
               cardBackDiv.classList.add('card-back');
               const colorLeftDiv = document.createElement('div');
               colorLeftDiv.classList.add('card-color-left', equipo.tag);
               cardBackDiv.appendChild(colorLeftDiv);
               cardRoundListDiv.appendChild(cardRoundTeamDiv);
               cardRoundListDiv.appendChild(cardRoundPtsDiv);
               cardRoundListDiv.appendChild(cardRoundPlaceDiv);
               cardRoundListDiv.appendChild(cardBackDiv);
               colDiv.appendChild(cardRoundListDiv);
               contenedor.appendChild(colDiv);
               overallIndex++;
             });
           });
         }
     
         function compararRankings() {
           fetch('/assets/ranking/ranking.json')
             .then(response => response.json())
             .then(rankingAnterior => {
               // Crear mapas para facilitar la búsqueda de equipos por tag
               const rankingAnteriorNorteMap = new Map(rankingAnterior.norte.map(equipo => [equipo.tag, equipo.posicion]));
               const rankingAnteriorSurMap = new Map(rankingAnterior.sur.map(equipo => [equipo.tag, equipo.posicion]));
     
               // Función para agregar el indicador de cambio de posición
               const agregarCambioPosicion = (contenedor, equipos, rankingAnteriorMap) => {
    if (!contenedor) return;
    const equiposOrdenados = Array.from(contenedor.querySelectorAll('.card-round-list'));
    equiposOrdenados.forEach((cardElement, index) => {
        const equipoTag = cardElement.querySelector('.card-color-left').classList[1];
        const posicionActual = index + 1;
        const posicionAnterior = rankingAnteriorMap.get(equipoTag);

        if (posicionAnterior !== undefined) { // Asegurarse de que el equipo existía en el ranking anterior
            const cambio = posicionAnterior - posicionActual;
            let indicador = '';
            let claseIcono = '';

            if (cambio > 0) {
                indicador = 'SUBE';
                claseIcono = 'fas fa-caret-up text-success';
            } else if (cambio < 0) {
                indicador = 'BAJA';
                claseIcono = 'fas fa-caret-down text-danger';
            } else {
                indicador = 'MANTIENE';
                claseIcono = 'fa-solid fa-equals text-primary'; 
            }

            const cambioSpan = document.createElement('span');
            cambioSpan.classList.add('cambio-posicion');
            cambioSpan.innerHTML = `<i class="${claseIcono}"></i>`;
            const cardRoundRecordDiv = cardElement.querySelector('.card-round-record');
            if (cardRoundRecordDiv) {
                cardRoundRecordDiv.appendChild(document.createTextNode(' ')); // Añadir espacio
                cardRoundRecordDiv.appendChild(cambioSpan);
            }
        } else {
            // Si el equipo no estaba en el ranking anterior, podrías indicar 'NUEVO' o algo similar
            const nuevoSpan = document.createElement('span');
            nuevoSpan.classList.add('cambio-posicion', 'text-info');
            nuevoSpan.innerHTML = '<i class="fas fa-star"></i> NUEVO';
            const cardRoundRecordDiv = cardElement.querySelector('.card-round-record');
            if (cardRoundRecordDiv) {
                cardRoundRecordDiv.appendChild(document.createTextNode(' ')); // Añadir espacio
                cardRoundRecordDiv.appendChild(nuevoSpan);
            }
        }
    });
};

               agregarCambioPosicion(grupoNorteDiv, equiposDataNorte, rankingAnteriorNorteMap);
               agregarCambioPosicion(grupoSurDiv, equiposDataSur, rankingAnteriorSurMap);
             })
             .catch(error => {
               console.error("Error al cargar el ranking anterior desde ranking.json:", error);
             });
           // No guardar en localStorage, cargamos de archivo
         }
         // Boton de descarga
         const downloadButton = document.getElementById('descargarRankingBtn');
         downloadButton.addEventListener('click', () => {
           const rankingActual = {
             norte: equiposDataNorte.map((equipo, index) => ({
               tag: equipo.tag,
               team: equipo.team,
               posicion: index + 1,
               suma: equipo.suma
             })),
             sur: equiposDataSur.map((equipo, index) => ({
               tag: equipo.tag,
               team: equipo.team,
               posicion: index + 1,
               suma: equipo.suma
             }))
           };
           const json = JSON.stringify(rankingActual, null, 2);
           const blob = new Blob([json], { type: 'application/json' });
           const url = URL.createObjectURL(blob);
           const a = document.createElement('a');
           a.href = url;
           a.download = 'ranking_actual.json';
           document.body.appendChild(a);
           a.click();
           document.body.removeChild(a);
           URL.revokeObjectURL(url);
         });
       });
     </script>
     
    

</body>

</html>